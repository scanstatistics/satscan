#!/bin/sh

binaries="/prj/satscan/build.area/binaries/linux"
satscan_src="/prj/satscan/build.area/satscan"
boost_src="/prj/satscan/build.area/boost/boost_1_48_0"
processors="-j8"
pthread="-pthread"
lib_target="libsatscan.linux.so"

rm -f $binaries/*

echo building SaTScan for 32-bit system using gcc3.3.5
./makescript.sh $binaries/satscan_gcc3.3.5_x86_64_32bit $satscan_src $boost_src -m32 -O3 /usr/local/gcc3.3.5/bin/g++-3.3.5 $processors $pthread

echo building SaTScan shared object for 32-bit system using gcc3.3.5
./makescript.so.sh $lib_target $binaries/libsatscan.gcc3.3.5_x86_64_32bit.so $satscan_src $boost_src -m32 -O3 /usr/local/gcc3.3.5/bin/g++-3.3.5 $processors $pthread

echo building SaTScan for 64-bit system using gcc3.3.5
./makescript.sh $binaries/satscan_gcc3.3.5_x86_64_64bit $satscan_src $boost_src -m64 -O3 /usr/local/gcc3.3.5/bin/g++-3.3.5 $processors $pthread

echo building SaTScan shared object for 64-bit system using gcc3.3.5
./makescript.so.sh $lib_target $binaries/libsatscan.gcc3.3.5_x86_64_64bit.so $satscan_src $boost_src -m64 -O3 /usr/local/gcc3.3.5/bin/g++-3.3.5 $processors $pthread

echo building SaTScan for 32-bit system using gcc3.4.4
./makescript.sh $binaries/satscan_gcc3.4.4_x86_64_32bit $satscan_src $boost_src -m32 -O3 /usr/local/gcc3.4.4/bin/g++ $processors $pthread

echo building SaTScan shared object for 32-bit system using gcc3.4.4
./makescript.so.sh $lib_target $binaries/libsatscan.gcc3.4.4_x86_64_32bit.so $satscan_src $boost_src -m32 -O3 /usr/local/gcc3.4.4/bin/g++ $processors $pthread

echo building SaTScan for 64-bit system using gcc3.4.4
./makescript.sh $binaries/satscan_gcc3.4.4_x86_64_64bit $satscan_src $boost_src -m64 -O3 /usr/local/gcc3.4.4/bin/g++ $processors $pthread

echo building SaTScan shared object for 64-bit system using gcc3.4.4
./makescript.so.sh $lib_target $binaries/libsatscan.gcc3.4.4_x86_64_64bit.so $satscan_src $boost_src -m64 -O3 /usr/local/gcc3.4.4/bin/g++ $processors $pthread


#### Testing gcc 4.0 -- first to compile on Mac OS X which used gcc4.0

## echo building SaTScan for 32-bit system using gcc4.0.4
## ./makescript.sh $binaries/satscan_gcc4.0.4_x86_64_32bit $satscan_src $boost_src -m32 -O3 /home/hostovic/prj/gcc/gcc-4.0.4/bin/g++ $processors $pthread
##
## echo building SaTScan shared object for 32-bit system using gcc4.0.4
## ./makescript.so.sh $lib_target $binaries/libsatscan.gcc4.0.4_x86_64_32bit.so $satscan_src $boost_src -m32 -O3 /home/hostovic/prj/gcc/gcc-4.0.4/bin/g++ $processors $pthread
##
## echo building SaTScan for 64-bit system using gcc4.0.4
## ./makescript.sh $binaries/satscan_gcc4.0.4_x86_64_64bit $satscan_src $boost_src -m64 -O3 /home/hostovic/prj/gcc/gcc-4.0.4/bin/g++ $processors $pthread
##
## #echo building SaTScan shared object for 64-bit system using gcc4.0.4
## ./makescript.so.sh $lib_target $binaries/libsatscan.gcc4.0.4_x86_64_64bit.so $satscan_src $boost_src -m64 -O3 /home/hostovic/prj/gcc/gcc-4.0.4/bin/g++ $processors $pthread
